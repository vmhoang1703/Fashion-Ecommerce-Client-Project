<nav>
  <header
    [ngClass]="{ 'fixed-nav': isFixedHeader }"
    class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3"
  >
    <div class="col-md-3 mb-2 mb-md-0 text-center">
      <div class="row align-items-center">
        <div class="col-md-3">
          <a
            routerLink="/"
            class="d-inline-flex link-body-emphasis text-decoration-none ms-4"
          >
            <img
              src="assets/logo.jpg"
              alt="Phuong Fashion logo"
              width="55"
              height="55"
              class="rounded-circle"
            />
          </a>
        </div>
        <div class="col-md-9">
          <a
            routerLink="/"
            class="text-decoration-none dancing-font"
            id="brand"
            style="color: black"
            >Phương Fashion</a
          >
        </div>
      </div>
    </div>

    <ul class="nav col-12 col-md-4 mb-2 justify-content-center mb-md-0">
      <li><a routerLink="/" class="nav-link px-3">Trang chủ</a></li>
      <li><a routerLink="/collections" class="nav-link px-3">Bộ sưu tập</a></li>
      <li><a routerLink="/blog" class="nav-link px-3">Blog</a></li>
      <li><a routerLink="/about-us" class="nav-link px-3">Về chúng tôi</a></li>
    </ul>

    <div class="col-md-2 text-end">
      <form class="d-flex">
        <input
          class="form-control"
          type="search"
          placeholder="Tìm kiếm"
          aria-label="Search"
        />
        <button class="btn" type="submit">
          <img
            src="assets/search.png"
            alt="search icon"
            width="22px"
            height="22px"
          />
        </button>
      </form>
    </div>

    <!-- Login and register buttons -->
    <div
      class="col-md-auto text-end me-3"
      *ngIf="!isLoggedIn; else userSection"
    >
      <button
        type="button"
        class="btn btn-outline-primary me-2 btn-login"
        data-bs-toggle="modal"
        data-bs-target="#loginModal"
        (click)="openLoginModal()"
      >
        Đăng nhập
      </button>
      <button
        type="button"
        class="btn btn-primary btn-register"
        data-bs-toggle="modal"
        data-bs-target="#registerModal"
        (click)="openRegisterModal()"
      >
        Đăng ký
      </button>
    </div>

    <!-- User section -->
    <ng-template #userSection>
      <div class="col-md-auto col-12 text-center user-section me-4">
        <span
          ><span class="dancing-font welcome-text">Xin chào,</span>
          {{ fullname }}
        </span>

        <div class="hover-items text-center">
          <button
            type="button"
            class="btn btn-link text-decoration-none"
            style="color: black"
          >
            <img
              src="assets/user.png"
              class="me-1"
              alt="user icon"
              width="17px"
              height="17px"
              style="margin-top: -3px"
            />
            <span class="text-item">Tài khoản</span>
          </button>

          <br />

          <button
            type="button"
            class="btn btn-link text-decoration-none"
            style="color: black"
          >
            <img
              src="assets/shopping-bag.png"
              class="me-1"
              alt="cart icon"
              width="17px"
              height="17px"
              style="margin-left: -3px; margin-top: -3px"
            />
            <span class="text-item">Giỏ hàng</span>
          </button>

          <br />

          <button
            type="button"
            class="btn btn-link text-decoration-none"
            style="color: black; margin-bottom: -10px"
          >
            <img
              src="assets/heart.png"
              class="me-1"
              alt="heart icon"
              width="17px"
              height="17px"
              style="margin-top: -3px"
            />
            <span class="text-item">Yêu thích</span>
          </button>

          <!-- Nút dẫn đến trang admin -->
          <button
            type="button"
            class="btn btn-link text-decoration-none"
            style="color: black; margin-top: 10px; margin-bottom: -10px"
            *ngIf="isAdmin"
            routerLink="/admin"
          >
            <img
              src="assets/admin.png"
              class="me-1"
              alt="admin icon"
              width="17px"
              height="17px"
              style="margin-left: -7px; margin-top: -3px"
            />
            <span class="text-item">Quản lý</span>
          </button>

          <hr />

          <button
            type="button"
            class="btn btn-link text-decoration-none"
            style="color: #eb6763; margin-top: -10px"
            (click)="logout()"
          >
            <img
              src="assets/logout.png"
              class="me-1"
              alt="Logout icon"
              width="20px"
              height="20px"
            />
            <span class="text-item">Đăng xuất</span>
          </button>
        </div>
      </div>
    </ng-template>
  </header>
</nav>
